---
description: On DB object parsing failure, log object and expected format, then throw exception/return 500
globs: src/backend/**/*.{js,ts}
tags: [backend, database, error-handling, logging]
priority: 1
version: 1.0.0
---

# Database Object Parsing Failure Handling

## Context
- Applies to any backend process that parses database objects.
- Triggered when the input object does not conform to the expected schema.

## Requirements
- Log the failed database object.
- Log the expected format.
- Immediately throw an exception or return a 500 Internal Server Error response.

## Examples
<example>
if (!validateDBObject(dbObj)) {
  console.error("DB object parsing error:", dbObj, "Expected Format:", expectedFormat);
  throw new Error("Database object parsing failed");
  // In an HTTP handler, alternatively:
  // return res.status(500).send("Internal Server Error");
}
</example>

<example type="invalid">
if (!validateDBObject(dbObj)) {
  // Incorrect: Logs only partial info and returns the wrong error code.
  console.error("Parsing error for DB object");
  return res.status(400).send("Bad Request");
}
</example>